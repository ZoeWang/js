<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>右侧悬浮框</title>
	<meta charset="utf-8"/>
	<style>
	#div1{width: 100px; height: 150px; background: red; position: absolute;right: 20px;bottom:0;}
	
	</style>
	<script>
	window.onscroll=function(){
		var oDiv=document.getElementById('div1');
		var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;

		// oDiv.style.top=document.documentElement.clientHeight-oDiv.offsetHeight+scrollTop+'px';
		  //console.log(document.documentElement.clientHeight); 应用这个值，要有w3c 标准，不然用document.body.clientHeight
		  console.log(document.documentElement.clientHeight-oDiv.offsetHeight+scrollTop);
		startMove(document.documentElement.clientHeight-oDiv.offsetHeight+scrollTop)

	}

	var timer=null;
	function startMove(iTarget){
		var oDiv=document.getElementById('div1');

		clearInterval(timer);
		timer=setInterval(function(){
			var speed=(iTarget-oDiv.offsetTop)/6;
				speed=speed>0?Math.ceil(speed):Math.floor(speed);
				if(oDiv.offsetTop==iTarget){
					clearInterval(timer);
				}else{
					oDiv.style.top=oDiv.offsetTop+speed+'px';
				}
		},30)

	}
	
	</script>
</head>
<body style="height:2000px;">
	<div id="div1"></div>
</body>

</html>